#### This file contains tests to evaluate that your bot behaves as expected.
#### If you want to learn more, please see the docs: https://rasa.com/docs/rasa/testing-your-assistant

stories:

- story: from opening to task, no name
  steps:
  - user:
      hi!
    intent: opening
  - slot_was_set:
    - task_activated: false
    - name: None
  - action: action_greet_user_by_name
  - action: utter_task_introduction
  - action: action_set_task_slot
  - action: utter_question_suggestions

- story: from opening to task, name
  steps:
  - user:
      hi im Alex!
    intent: opening
  - slot_was_set:
    - task_activated: false
    - name
  - action: action_greet_user_by_name
  - action: utter_task_introduction
  - action: action_set_task_slot
  - action: utter_question_suggestions

- story: from no introduction to task
  steps:
  - slot_was_set:
    - task_activated: false
  - or:
    - user: |
        bye!
      intent: closing
    - user: |
        how about [Ariana Grande]{"entity": "artist"}?
      intent: suggest_artist
    - user: |
        i like [Ariana Grande]{"entity": "artist"}
      intent: likes_artist
    - user: |
        i don't like [Ariana Grande]{"entity": "artist"}
      intent: dislikes_artist
    - user: |
        what do you think then?
      intent: request_for_suggestion_from_bot
  - action: utter_task_introduction
  - action: action_set_task_slot
  - action: utter_question_suggestions

- story: handle user introducing task
  steps:
  - user: |
      So we have a task to choose the best band
    intent: task_introduction
  - slot_was_set:
    - task_activated: false
  - action: action_set_task_slot
  - action: utter_question_suggestions

- story: user suggests artist 1
  steps:
  - user: |
      [Ariana Grande]{"entity": "artist"}
    intent: suggest_artist
  - slot_was_set:
    - task_activated: true
    - artist
  - action: action_set_genre_slot
  - action: utter_artist_dismissal

- story: user suggests artist 2
  steps:
  - user: |
      i suggest [Rihanna]{"entity": "artist"}
    intent: suggest_artist
  - slot_was_set:
    - task_activated: true
    - artist
  - action: action_set_genre_slot
  - action: utter_artist_dismissal

- story: user likes artist path
  steps:
  - user: |
      i like [Ariana Grande]{"entity": "artist"}
    intent: likes_artist
  - slot_was_set:
    - task_activated: true
  - action: action_set_genre_slot
  - action: utter_artist_dismissal

- story: user dislikes artist path
  steps:
  - user: |
      i hate [Ariana Grande]{"entity": "artist"}
    intent: dislikes_artist
  - slot_was_set:
    - task_activated: true
  - action: action_set_genre_slot
  - action: utter_artist_praise

- story: user gets tired
  steps:
  - user: |
      bye
    intent: closing
  - slot_was_set:
    - task_activated: true
  - action: utter_closing

- story: bs after task introduction
  steps:
  - or: 
    - user: |
        hiii
      intent: opening
    - user: |
        my name is [Alex]{"entity": "name"}
      intent: self_introduction
  - slot_was_set:
    - task_activated: true
  - action: utter_back_to_task

- story: get genre data
  steps: 
    - user: |
        get genre
      intent: get_genre
    - action: action_set_genre_slot
    - action: utter_genre

